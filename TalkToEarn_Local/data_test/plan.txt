**项目描述：**

TalkToEarn是一个去中心化内容分享平台。用户发布内容（文本/图像）至 IPFS，链上注册 NFT 并设置“是否允许 AI 使用”许可；其他用户支付代币使用平台 AI 模型进行对话（基于授权RAG的大语言模型），智能合约自动追踪数据使用比例并实时分发代币奖励给内容提供者；所有生成对话嵌入链上来源标识，实现“用户控制 + 训练即收益 + 可信溯源”的公平 AI 内容经济。

**使用者的使用流程：**

### 一、内容提供者（Content Provider）完整使用流程

1. **账户与钱包连接**
用户使用 Web3 钱包（MetaMask、WalletConnect 等）登录平台，建立链上身份。
2. **内容上传与存储**
用户上传文本、图片、PDF 等任意格式内容，平台自动将其存储至 IPFS，获得唯一的 Content ID（CID）。
3. **铸造内容 NFT（Data NFT）**
    - 系统调用智能合约，以 CID 为基础为该内容铸造一个 ERC-721 或 ERC-1155 Data NFT。
    - NFT 元数据中写入：内容摘要、上传时间、作者地址、完整 CID 链接。
4. **设置 AI 使用许可与分成规则**
用户在铸造或后续可编辑的界面中设置以下关键许可字段：
    - 是否允许被平台 AI 模型检索与使用（布尔值）
    - 分成比例（默认 100% 给作者，可支持多签名联合创作分成）
5. **内容上架与索引**
一旦许可设置为「允许 AI 使用」，该内容将被平台向量数据库（结合 CID 去重）进行向量化并加入可检索的 RAG 知识库，同时链上发出引用 事件。
6. **实时收益监控**
    - 每次其他用户使用 AI 并触发对该内容的引用，智能合约会记录具体使用量
    - 根据AI模型RAG引用的数据内容，实时计算内容贡献比例并将代币直接转入内容拥有者钱包
    - 用户可在个人仪表盘查看「收益仪表盘」：总收入、近 7 天曲线、Top 被引用内容等。

### 二、AI 使用者（AI Consumer）完整使用流程

1. **连接钱包并获取代币**
用户连接 Web3 钱包，确保钱包内有足够代币用于支付 AI 使用费用。
2. **进入 AI 对话 / 图像生成界面**
选择文本大模型聊天。
3. **发起请求并自动付费**
    - 用户输入 问题
    - 前端向后端发送请求的同时，自动调用智能合约的 函数进行预授权或直接转账
    - 支付金额由智能合约根据AI模型推导测试花费的时间进行计算
4. **RAG 检索授权内容**
    - 系统仅检索「已授权 AI 使用」的 Data NFT 内容
    - 检索结果附带链上 NFT ID 与许可信息
5. **模型生成并链上溯源标注**
    - LLM 或图像模型基于授权知识库完成生成
    - 生成结果中自动嵌入可验证的链上来源标识
6. **费用精准结算与分成**
    - 生成完成后，智能合约根据AI模型推导测试花费的时间进行结算，多余预授权金额退回
    - 所有内容提供者的分成实时到账